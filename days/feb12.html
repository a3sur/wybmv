<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nesting Hearts</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#ff9ec4,#ffd6e7);
    font-family:Arial, sans-serif;
    overflow:hidden;
}

.container{
    position:relative;
    width:85vmin;
    height:85vmin;
}

.heart{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    cursor:pointer;
    transition:transform 0.4s ease, opacity 0.4s ease;
}

.heart-shape{
    width:100%;
    height:100%;
    background:currentColor;
    clip-path:polygon(
        50% 95%,
        5% 55%,
        5% 30%,
        25% 10%,
        45% 20%,
        50% 35%,
        55% 20%,
        75% 10%,
        95% 30%,
        95% 55%
    );
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
    font-weight:900;
    text-align:center;
    padding:1vmin;
    box-sizing:border-box;
}

.fadeOut{
    transform:translate(-50%, -50%) scale(0);
    opacity:0;
}
</style>
</head>
<body>

<div class="container" id="container"></div>

<script>
const container = document.getElementById("container");
const totalHearts = 20;

function createHearts(){
    container.innerHTML = "";

    for(let i = 0; i < totalHearts; i++){

        const wrapper = document.createElement("div");
        wrapper.className = "heart";

        // Responsive size using vmin-based container
        const sizePercent = 100 - (i * 4);
        wrapper.style.width = sizePercent + "%";
        wrapper.style.height = sizePercent + "%";
        wrapper.style.zIndex = totalHearts - i;

        const heartShape = document.createElement("div");
        heartShape.className = "heart-shape";
        heartShape.style.color = `hsl(${340 - i*4}, 80%, ${65 - i*1.2}%)`;

        // Responsive font scaling based on heart layer
        // Larger base size + gradual reduction
        const fontSize = 6 - (i * 0.18); 
        heartShape.style.fontSize = fontSize + "vmin";

        heartShape.innerText = "Placeholder #" + (i+1);

        wrapper.appendChild(heartShape);
        container.appendChild(wrapper);
    }
}

createHearts();

container.addEventListener("click", () => {
    const hearts = container.querySelectorAll(".heart");
    if(hearts.length === 0) return;

    const outer = hearts[0];

    outer.classList.add("fadeOut");

    setTimeout(() => {
        if(container.contains(outer)){
            container.removeChild(outer);
        }

        if(container.children.length === 0){
            setTimeout(createHearts, 400);
        }
    }, 400);
});
</script>

</body>
</html>
